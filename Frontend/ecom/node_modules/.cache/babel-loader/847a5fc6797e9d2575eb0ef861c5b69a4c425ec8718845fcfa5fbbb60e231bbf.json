{"ast":null,"code":"import { useLoaderData, json, redirect } from 'react-router-dom';\nimport { getAuthToken } from \"../util/auth\";\nexport async function loader({\n  request,\n  params\n}) {\n  //Action to delete the User\n  const token = getAuthToken();\n  const id = params.id;\n  console.log(\"id\" + id);\n  const response = await fetch(process.env.REACT_APP_BASEURL + 'deleteuser?id=' + id, {\n    method: 'DELETE',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': 'Bearer ' + token\n    }\n  });\n  console.log(\"response: \" + response);\n  if (!response.ok) {\n    throw json({\n      message: 'Could not fetch event.'\n    }, {\n      status: response.status,\n      statusText: response.statusText\n    });\n  } else {\n    // const resData = await response.json();\n\n    // console.log(\"response: \" +resData);\n    return redirect('/userlist');\n  }\n}","map":{"version":3,"names":["useLoaderData","json","redirect","getAuthToken","loader","request","params","token","id","console","log","response","fetch","process","env","REACT_APP_BASEURL","method","headers","ok","message","status","statusText"],"sources":["C:/Users/User/Desktop/eCom in SB and ReactJS/frontend/ecom/src/Components/DeleteUser.js"],"sourcesContent":["import { useLoaderData, json, redirect } from 'react-router-dom';\r\nimport { getAuthToken } from \"../util/auth\";\r\nexport async function loader({request, params}){\r\n    //Action to delete the User\r\n    const token = getAuthToken();\r\n    const id = params.id; \r\n    console.log(\"id\" +id);\r\n    const response = await fetch(process.env.REACT_APP_BASEURL+'deleteuser?id='+id, {\r\n        method: 'DELETE',\r\n        headers:{\r\n            'Content-Type': 'application/json',\r\n            'Authorization': 'Bearer ' + token\r\n        }\r\n    });\r\n\r\n    console.log(\"response: \" +response);\r\n\r\n    if(!response.ok){\r\n     throw json({message: 'Could not fetch event.'}, {status: response.status, statusText: response.statusText});\r\n    }else{\r\n\r\n       // const resData = await response.json();\r\n      \r\n       // console.log(\"response: \" +resData);\r\n        return redirect('/userlist');\r\n    }\r\n\r\n    \r\n}\r\n"],"mappings":"AAAA,SAASA,aAAa,EAAEC,IAAI,EAAEC,QAAQ,QAAQ,kBAAkB;AAChE,SAASC,YAAY,QAAQ,cAAc;AAC3C,OAAO,eAAeC,MAAMA,CAAC;EAACC,OAAO;EAAEC;AAAM,CAAC,EAAC;EAC3C;EACA,MAAMC,KAAK,GAAGJ,YAAY,CAAC,CAAC;EAC5B,MAAMK,EAAE,GAAGF,MAAM,CAACE,EAAE;EACpBC,OAAO,CAACC,GAAG,CAAC,IAAI,GAAEF,EAAE,CAAC;EACrB,MAAMG,QAAQ,GAAG,MAAMC,KAAK,CAACC,OAAO,CAACC,GAAG,CAACC,iBAAiB,GAAC,gBAAgB,GAACP,EAAE,EAAE;IAC5EQ,MAAM,EAAE,QAAQ;IAChBC,OAAO,EAAC;MACJ,cAAc,EAAE,kBAAkB;MAClC,eAAe,EAAE,SAAS,GAAGV;IACjC;EACJ,CAAC,CAAC;EAEFE,OAAO,CAACC,GAAG,CAAC,YAAY,GAAEC,QAAQ,CAAC;EAEnC,IAAG,CAACA,QAAQ,CAACO,EAAE,EAAC;IACf,MAAMjB,IAAI,CAAC;MAACkB,OAAO,EAAE;IAAwB,CAAC,EAAE;MAACC,MAAM,EAAET,QAAQ,CAACS,MAAM;MAAEC,UAAU,EAAEV,QAAQ,CAACU;IAAU,CAAC,CAAC;EAC5G,CAAC,MAAI;IAEF;;IAEA;IACC,OAAOnB,QAAQ,CAAC,WAAW,CAAC;EAChC;AAGJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}